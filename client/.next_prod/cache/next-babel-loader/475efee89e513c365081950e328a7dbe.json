{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Children, useMemo, useEffect, useState, useCallback } from \"react\";\nimport { SliderList, SliderTrack, SliderWrapper, CardWrapper, LeftArrow, RightArrow, Dot, DotsWrapper } from './styled';\nimport { Timer } from \"./Timer\";\nexport var MySlider = function MySlider(_ref) {\n  var children = _ref.children,\n      autoSlide = _ref.autoSlide;\n  var childWidth = 100;\n  var numberOfChildren = useMemo(function () {\n    return Children.count(children);\n  }, []);\n\n  var _useState = useState(0),\n      activeCard = _useState[0],\n      setActiveCard = _useState[1];\n\n  var _useState2 = useState(),\n      autoSlider = _useState2[0],\n      setAutoSlider = _useState2[1];\n\n  useEffect(function () {\n    var timer = new Timer(goRight, autoSlide);\n    setAutoSlider(timer);\n    timer.start();\n    return function () {\n      timer.stop();\n    };\n  }, [activeCard]);\n  var goLeft = useCallback(function (event) {\n    if (event && event.preventDefault) event.preventDefault();\n    var nextInitialCard = activeCard < 1 ? numberOfChildren - 1 : activeCard - 1;\n    setActiveCard(nextInitialCard);\n  }, [activeCard]);\n  var goRight = useCallback(function () {\n    if (event && event.preventDefault) event.preventDefault();\n    var nextInitialCard = activeCard >= numberOfChildren - 1 ? 0 : activeCard + 1;\n    setActiveCard(nextInitialCard);\n  }, [activeCard]);\n\n  var renderChildren = function renderChildren(children) {\n    return Children.map(children, function (child, index) {\n      return React.createElement(CardWrapper, {\n        key: index,\n        width: childWidth\n      }, child);\n    });\n  };\n\n  var renderDots = function renderDots() {\n    var array = new Array(numberOfChildren);\n    return array.map(function (index) {\n      return React.createElement(Dot, {\n        key: index,\n        active: index === activeCard,\n        onClick: function onClick() {\n          return setActiveCard(index);\n        }\n      });\n    });\n  };\n\n  return React.createElement(\"div\", {\n    onMouseLeave: function onMouseLeave() {\n      return autoSlider && autoSlider.start();\n    },\n    onMouseEnter: function onMouseEnter() {\n      return autoSlider && autoSlider.stop();\n    }\n  }, React.createElement(SliderWrapper, null, React.createElement(LeftArrow, {\n    onClick: goLeft\n  }), React.createElement(SliderTrack, null, React.createElement(SliderList, {\n    translateX: activeCard * childWidth\n  }, renderChildren(children))), React.createElement(RightArrow, {\n    onClick: goRight\n  })), React.createElement(DotsWrapper, null, renderDots()));\n};","map":null,"metadata":{},"sourceType":"module"}
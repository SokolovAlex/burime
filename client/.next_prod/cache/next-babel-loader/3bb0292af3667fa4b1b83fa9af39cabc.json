{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime-corejs2/helpers/esm/objectDestructuringEmpty\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar __jsx = React.createElement;\nimport React, { useState, useCallback, useMemo } from 'react';\nimport { useUser } from '../../../services/contexts/auth';\nimport { Title } from '../../atoms/Title/Title';\nimport { useMyBurimes, useActiveBurime, goToBurime } from '../../../services/api/burime';\nimport { BurimeList } from '../../molecules/BurimeList/BurimeList';\nimport dayjs from 'dayjs';\nimport { OpenStyled } from '../../atoms/styled';\nimport { breakpoints } from '../../../constants';\n\nvar prepareRows = function prepareRows(burimes) {\n  return burimes.map(function (_ref) {\n    var id = _ref.id,\n        theme = _ref.theme,\n        user1 = _ref.user1,\n        user2 = _ref.user2,\n        createdAt = _ref.createdAt;\n    return {\n      id: id.toString(),\n      theme: theme,\n      user1: user1.name,\n      opponent: user2.name,\n      createdAt: dayjs(createdAt).format('DD/MM/YYYY')\n    };\n  });\n};\n\nvar mobileBreakpoint = _parseInt(breakpoints.breakpointSizes.mobile, 10);\n\nvar prepareColumns = function prepareColumns(openBurime) {\n  return [{\n    name: 'Заголовок',\n    selector: 'theme',\n    sortable: true\n  }, {\n    name: 'Вызвал',\n    selector: 'user1',\n    sortable: true,\n    right: true,\n    hide: mobileBreakpoint\n  }, {\n    name: 'Принял',\n    selector: 'opponent',\n    sortable: true,\n    right: true,\n    hide: mobileBreakpoint\n  }, {\n    name: 'Дата',\n    selector: 'createdAt',\n    sortable: true,\n    right: true\n  }, {\n    name: 'открыть',\n    cell: function cell(row) {\n      return React.createElement(OpenStyled, {\n        width: 16,\n        onClick: function onClick() {\n          return openBurime(row);\n        }\n      });\n    },\n    button: true,\n    right: true\n  }];\n};\n\nexport var MyBurimeList = function MyBurimeList() {\n  var user = useUser();\n\n  if (!user) {\n    return null;\n  }\n\n  useActiveBurime();\n\n  var _useMyBurimes = useMyBurimes(),\n      loading = _useMyBurimes.loading,\n      burimes = _useMyBurimes.burimes;\n\n  var _useState = useState();\n\n  _objectDestructuringEmpty(_useState);\n\n  var onOpen = useCallback(function (burime) {\n    return goToBurime(burime.id);\n  }, []);\n  var rows = useMemo(function () {\n    return prepareRows(burimes);\n  }, [burimes]);\n  var columns = useMemo(function () {\n    return prepareColumns(onOpen);\n  }, [onOpen]);\n  return React.createElement(React.Fragment, null, React.createElement(Title, null, \"\\u041C\\u043E\\u0438 \\u0431\\u0443\\u0440\\u0438\\u043C\\u0435\"), React.createElement(BurimeList, {\n    loading: loading,\n    rows: rows,\n    columns: columns\n  }));\n};","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useCallback, useState } from 'react';\nimport { useUserContext } from '../../../services/contexts/auth';\nimport { Input, InputRow, InputLabel, InputHelp, InputValue } from '../../atoms/Input/Input';\nimport { Title } from '../../atoms/Title/Title';\nimport { Button } from '../../atoms/Button/Button';\nimport { Size } from '../../../constants/enums';\nimport { changeName } from '../../../services/api/user';\nimport { success, error } from '../../../services/toast';\nexport var UserSettings = function UserSettings() {\n  var _useUserContext = useUserContext(),\n      user = _useUserContext.user,\n      setUser = _useUserContext.setUser;\n\n  if (!user) return null;\n\n  var _useState = useState(user.name),\n      userName = _useState[0],\n      setUserName = _useState[1];\n\n  var onSave = useCallback(function () {\n    return changeName(userName).then(function (_ref) {\n      var message = _ref.message;\n      success('Успешно', message);\n      setUser(_objectSpread({}, user, {\n        name: userName\n      }));\n    })[\"catch\"](function (_ref2) {\n      var message = _ref2.message;\n      return error('Ошибка', message);\n    });\n  }, [userName]);\n  var onChangeName = useCallback(function (e) {\n    if (e.target.value.length <= 15) {\n      setUserName(e.target.value);\n    }\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Title, {\n    size: Size.lg\n  }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"), React.createElement(InputRow, null, React.createElement(InputLabel, {\n    inline: true\n  }, \"Email:\"), React.createElement(InputValue, null, user.email)), React.createElement(InputRow, {\n    margin: 30\n  }, React.createElement(InputLabel, {\n    inline: true\n  }, \"\\u041F\\u0441\\u0435\\u0432\\u0434\\u043E\\u043D\\u0438\\u043C:\"), React.createElement(InputValue, null, React.createElement(Input, {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0451 \\u0438\\u043C\\u044F\",\n    onChange: onChangeName,\n    value: userName\n  }), React.createElement(InputHelp, null, \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0432\\u043E \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432 - 15\"))), React.createElement(Button, {\n    onClick: onSave\n  }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"));\n};","map":null,"metadata":{},"sourceType":"module"}
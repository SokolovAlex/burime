{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexs\\\\Desktop\\\\\\u0410\\u043B\\u0435\\u043A\\u0441\\u0435\\u0439\\\\code\\\\burime\\\\client\\\\components\\\\molecules\\\\MySlider\\\\MySlider.tsx\";\nvar __jsx = React.createElement;\nimport React, { Children, useMemo, useEffect, useState, useCallback } from \"react\";\nimport { SliderList, SliderTrack, SliderWrapper, CardWrapper, LeftArrow, RightArrow, Dot, DotsWrapper } from './styled';\nimport { Timer } from \"./Timer\";\nexport var MySlider = function MySlider(_ref) {\n  var children = _ref.children,\n      autoSlide = _ref.autoSlide;\n  var childWidth = 100;\n  var numberOfChildren = useMemo(function () {\n    return Children.count(children);\n  }, []);\n\n  var _useState = useState(0),\n      activeCard = _useState[0],\n      setActiveCard = _useState[1];\n\n  var _useState2 = useState(),\n      autoSlider = _useState2[0],\n      setAutoSlider = _useState2[1];\n\n  useEffect(function () {\n    var timer = new Timer(goRight, autoSlide);\n    setAutoSlider(timer);\n    timer.start();\n    return function () {\n      timer.stop();\n    };\n  }, [activeCard]);\n  var goLeft = useCallback(function (event) {\n    if (event && event.preventDefault) event.preventDefault();\n    var nextInitialCard = activeCard < 1 ? numberOfChildren - 1 : activeCard - 1;\n    setActiveCard(nextInitialCard);\n  }, [activeCard]);\n  var goRight = useCallback(function () {\n    if (event && event.preventDefault) event.preventDefault();\n    var nextInitialCard = activeCard >= numberOfChildren - 1 ? 0 : activeCard + 1;\n    setActiveCard(nextInitialCard);\n  }, [activeCard]);\n\n  var renderChildren = function renderChildren(children) {\n    return Children.map(children, function (child, index) {\n      return React.createElement(CardWrapper, {\n        key: index,\n        width: childWidth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, child);\n    });\n  };\n\n  var renderDots = function renderDots() {\n    var array = new Array(numberOfChildren);\n    return array.map(function (index) {\n      return React.createElement(Dot, {\n        key: index,\n        active: index === activeCard,\n        onClick: function onClick() {\n          return setActiveCard(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    });\n  };\n\n  return React.createElement(\"div\", {\n    onMouseLeave: function onMouseLeave() {\n      return autoSlider && autoSlider.start();\n    },\n    onMouseEnter: function onMouseEnter() {\n      return autoSlider && autoSlider.stop();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(SliderWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(LeftArrow, {\n    onClick: goLeft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(SliderTrack, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(SliderList, {\n    translateX: activeCard * childWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, renderChildren(children))), React.createElement(RightArrow, {\n    onClick: goRight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })), React.createElement(DotsWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, renderDots()));\n};","map":{"version":3,"sources":["C:/Users/alexs/Desktop/Алексей/code/burime/client/components/molecules/MySlider/MySlider.tsx"],"names":["React","Children","useMemo","useEffect","useState","useCallback","SliderList","SliderTrack","SliderWrapper","CardWrapper","LeftArrow","RightArrow","Dot","DotsWrapper","Timer","MySlider","children","autoSlide","childWidth","numberOfChildren","count","activeCard","setActiveCard","autoSlider","setAutoSlider","timer","goRight","start","stop","goLeft","event","preventDefault","nextInitialCard","renderChildren","map","child","index","renderDots","array","Array"],"mappings":"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","sourcesContent":["import React, { Children, ReactNode, useMemo, useEffect, useState, useCallback } from \"react\";\r\nimport { SliderList, SliderTrack, SliderWrapper, CardWrapper, LeftArrow, RightArrow, Dot, DotsWrapper } from './styled';\r\nimport { Timer } from \"./Timer\";\r\n\r\ninterface IMySliderSettings {\r\n    children: ReactNode,\r\n    autoSlide: number,\r\n}\r\n\r\nexport const MySlider = ({ children, autoSlide }: IMySliderSettings) => {\r\n    const childWidth = 100;\r\n    const numberOfChildren = useMemo(() => Children.count(children), []);\r\n    const [activeCard, setActiveCard] = useState(0);\r\n    const [autoSlider, setAutoSlider] = useState<Timer>();\r\n\r\n    useEffect(() => {\r\n        const timer = new Timer(goRight, autoSlide);\r\n        setAutoSlider(timer);\r\n        timer.start();\r\n        return () => {\r\n            timer.stop();\r\n        }\r\n    }, [activeCard]);\r\n\r\n    const goLeft = useCallback((event) => {\r\n        if (event && event.preventDefault) event.preventDefault();\r\n        const nextInitialCard = activeCard < 1 ? numberOfChildren - 1 : activeCard - 1;\r\n        setActiveCard(nextInitialCard);\r\n    }, [activeCard]);\r\n\r\n    const goRight = useCallback(() => {\r\n        if (event && event.preventDefault) event.preventDefault();\r\n        const nextInitialCard = activeCard >= numberOfChildren - 1 ? 0 : activeCard + 1;\r\n        setActiveCard(nextInitialCard);\r\n    }, [activeCard]);\r\n\r\n    const renderChildren = (children) => (\r\n        Children.map(children, (child, index) => (\r\n            <CardWrapper key={index} width={childWidth}>\r\n                {child}\r\n            </CardWrapper>\r\n        )\r\n    ));\r\n\r\n    const renderDots = () => {\r\n        const array = new Array(numberOfChildren);\r\n        return array.map((index) => <Dot key={index} active={index === activeCard} onClick={() => setActiveCard(index)}/>);\r\n    }\r\n\r\n    return (\r\n        <div\r\n            onMouseLeave={() => autoSlider && autoSlider.start()}\r\n            onMouseEnter={() => autoSlider && autoSlider.stop()}\r\n        >\r\n            <SliderWrapper>\r\n                <LeftArrow onClick={goLeft}/>\r\n                <SliderTrack>\r\n                    <SliderList translateX={activeCard * childWidth}>\r\n                        { renderChildren(children) }\r\n                    </SliderList>\r\n                </SliderTrack>\r\n                <RightArrow onClick={goRight}/>\r\n            </SliderWrapper>\r\n            <DotsWrapper>{renderDots()}</DotsWrapper>\r\n        </div>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}